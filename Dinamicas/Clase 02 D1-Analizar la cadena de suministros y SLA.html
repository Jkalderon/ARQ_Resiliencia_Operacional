<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ResilienceOps - Simulador de Riesgos</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    
    <!-- Babel para procesar JSX en el navegador -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Estilos base adicionales si fueran necesarios */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    </style>
</head>
<body class="bg-slate-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo } = React;

        // --- COMPONENTES DE ICONOS (SVG Inline para evitar dependencias externas complejas) ---
        const IconBase = ({ children, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const Activity = (props) => <IconBase {...props}><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></IconBase>;
        const Truck = (props) => <IconBase {...props}><path d="M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11"/><path d="M14 9h4l4 4v4c0 .6-.4 1-1 1h-2"/><circle cx="7" cy="18" r="2"/><circle cx="17" cy="18" r="2"/></IconBase>;
        const Users = (props) => <IconBase {...props}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></IconBase>;
        const Plus = (props) => <IconBase {...props}><path d="M5 12h14"/><path d="M12 5v14"/></IconBase>;
        const Trash2 = (props) => <IconBase {...props}><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></IconBase>;
        const Clock = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></IconBase>;
        const PlayCircle = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><polygon points="10 8 16 12 10 16 10 8"/></IconBase>;
        const AlertTriangle = (props) => <IconBase {...props}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><path d="M12 9v4"/><path d="M12 17h.01"/></IconBase>;
        const CheckCircle = (props) => <IconBase {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></IconBase>;
        const FileText = (props) => <IconBase {...props}><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M16 13H8"/><path d="M16 17H8"/><path d="M10 9H8"/></IconBase>;
        const ShieldAlert = (props) => <IconBase {...props}><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/><path d="M12 8v4"/><path d="M12 16h.01"/></IconBase>;


        // --- APLICACIÓN PRINCIPAL ---
        function App() {
            const [activeTab, setActiveTab] = useState('chain');
            
            // Estado del Producto/Servicio Crítico
            const [product, setProduct] = useState({
                name: 'Servicio de Pagos Digitales',
                description: 'Plataforma core para transacciones de clientes corporativos.',
                minTime: 10,
                avgTime: 15,
                maxTime: 25, // Tiempo Máximo Tolerable
                timeUnit: 'días' // Unidad de tiempo
            });

            // Estado de los Proveedores (Nodos de la cadena)
            const [vendors, setVendors] = useState([
                {
                id: 1,
                name: 'Cloud Hosting Corp',
                type: 'externo',
                description: 'Infraestructura de servidores y base de datos.',
                baseTime: 5,
                simulatedDelay: 0
                },
                {
                id: 2,
                name: 'Equipo DevOps Interno',
                type: 'interno',
                description: 'Despliegue y configuración de microservicios.',
                baseTime: 3,
                simulatedDelay: 0
                }
            ]);

            // Estado para los SLAs
            const [slas, setSlas] = useState({});

            // Manejo de Inputs del Producto
            const handleProductChange = (e) => {
                setProduct({ ...product, [e.target.name]: e.target.value });
            };

            // Agregar nuevo proveedor
            const [newVendor, setNewVendor] = useState({
                name: '',
                type: 'externo',
                description: '',
                baseTime: 1
            });

            const addVendor = () => {
                if (!newVendor.name) return;
                setVendors([...vendors, { ...newVendor, id: Date.now(), simulatedDelay: 0 }]);
                setNewVendor({ name: '', type: 'externo', description: '', baseTime: 1 });
            };

            const removeVendor = (id) => {
                setVendors(vendors.filter(v => v.id !== id));
            };

            // Simulación: Actualizar retraso
            const updateSimulation = (id, delay) => {
                setVendors(vendors.map(v => v.id === id ? { ...v, simulatedDelay: Number(delay) } : v));
            };

            // Cálculos de Resiliencia
            const analytics = useMemo(() => {
                const totalBaseTime = vendors.reduce((acc, v) => acc + Number(v.baseTime), 0);
                const totalDelay = vendors.reduce((acc, v) => acc + Number(v.simulatedDelay), 0);
                const currentTotalTime = totalBaseTime + totalDelay;
                const isBreached = currentTotalTime > product.maxTime;
                const margin = product.maxTime - currentTotalTime;

                return { totalBaseTime, totalDelay, currentTotalTime, isBreached, margin };
            }, [vendors, product.maxTime]);

            // Manejo de SLA
            const handleSlaChange = (vendorId, field, value) => {
                setSlas(prev => ({
                ...prev,
                [vendorId]: {
                    ...prev[vendorId],
                    [field]: value
                }
                }));
            };

            return (
                <div className="min-h-screen bg-slate-50 font-sans text-slate-800 pb-20">
                {/* Header */}
                <header className="bg-blue-900 text-white p-6 shadow-lg">
                    <div className="max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center">
                    <div>
                        <h1 className="text-2xl font-bold flex items-center gap-2">
                        <Activity className="h-6 w-6 text-blue-300" />
                        ResilienceOps: Supply Chain Simulator
                        </h1>
                        <p className="text-blue-200 text-sm mt-1">Seminario de Gestión de Riesgos y Proveedores</p>
                    </div>
                    <div className="flex bg-blue-800 rounded-lg p-1 mt-4 md:mt-0">
                        <button 
                        onClick={() => setActiveTab('chain')}
                        className={`px-4 py-2 rounded-md transition-colors ${activeTab === 'chain' ? 'bg-white text-blue-900 font-bold' : 'text-blue-100 hover:bg-blue-700'}`}
                        >
                        Cadena de Suministro
                        </button>
                        <button 
                        onClick={() => setActiveTab('sla')}
                        className={`px-4 py-2 rounded-md transition-colors ${activeTab === 'sla' ? 'bg-white text-blue-900 font-bold' : 'text-blue-100 hover:bg-blue-700'}`}
                        >
                        Gestión de SLA
                        </button>
                    </div>
                    </div>
                </header>

                <main className="max-w-6xl mx-auto p-4 md:p-6">
                    
                    {/* PESTAÑA 1: CADENA DE SUMINISTRO */}
                    {activeTab === 'chain' && (
                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        
                        {/* Columna Izquierda: Configuración */}
                        <div className="lg:col-span-1 space-y-6">
                        
                        {/* Tarjeta de Producto Critico */}
                        <div className="bg-white rounded-xl shadow-sm border border-slate-200 p-5">
                            <div className="flex items-center gap-2 mb-4 text-blue-800 border-b pb-2">
                            <Truck className="h-5 w-5" />
                            <h2 className="font-bold text-lg">Servicio Crítico</h2>
                            </div>
                            <div className="space-y-3">
                            <div>
                                <label className="block text-xs font-semibold text-slate-500 uppercase">Nombre del Producto/Servicio</label>
                                <input 
                                type="text" 
                                name="name"
                                value={product.name}
                                onChange={handleProductChange}
                                className="w-full mt-1 p-2 border rounded bg-slate-50 focus:ring-2 focus:ring-blue-500 outline-none"
                                />
                            </div>
                            <div>
                                <label className="block text-xs font-semibold text-slate-500 uppercase">Descripción</label>
                                <textarea 
                                name="description"
                                value={product.description}
                                onChange={handleProductChange}
                                className="w-full mt-1 p-2 border rounded bg-slate-50 text-sm h-20 outline-none"
                                />
                            </div>
                            
                            {/* Selector de Unidad de Tiempo */}
                            <div>
                                <label className="block text-xs font-semibold text-slate-500 uppercase">Unidad de Tiempo</label>
                                <select
                                name="timeUnit"
                                value={product.timeUnit}
                                onChange={handleProductChange}
                                className="w-full mt-1 p-2 border rounded bg-slate-50 focus:ring-2 focus:ring-blue-500 outline-none"
                                >
                                <option value="minutos">Minutos</option>
                                <option value="horas">Horas</option>
                                <option value="días">Días</option>
                                <option value="semanas">Semanas</option>
                                </select>
                            </div>

                            <div className="grid grid-cols-3 gap-2">
                                <div>
                                <label className="block text-[10px] font-bold text-green-600 uppercase">Min ({product.timeUnit})</label>
                                <input type="number" name="minTime" value={product.minTime} onChange={handleProductChange} className="w-full p-1 border rounded text-center" />
                                </div>
                                <div>
                                <label className="block text-[10px] font-bold text-blue-600 uppercase">Promedio</label>
                                <input type="number" name="avgTime" value={product.avgTime} onChange={handleProductChange} className="w-full p-1 border rounded text-center" />
                                </div>
                                <div>
                                <label className="block text-[10px] font-bold text-red-600 uppercase">Max (Límite)</label>
                                <input type="number" name="maxTime" value={product.maxTime} onChange={handleProductChange} className="w-full p-1 border rounded text-center font-bold bg-red-50" />
                                </div>
                            </div>
                            </div>
                        </div>

                        {/* Agregar Proveedor */}
                        <div className="bg-white rounded-xl shadow-sm border border-slate-200 p-5">
                            <div className="flex items-center gap-2 mb-4 text-indigo-800 border-b pb-2">
                            <Users className="h-5 w-5" />
                            <h2 className="font-bold text-lg">Agregar Dependencia</h2>
                            </div>
                            <div className="space-y-3">
                            <input 
                                type="text" 
                                placeholder="Nombre del Proveedor / Área" 
                                className="w-full p-2 border rounded focus:ring-2 focus:ring-indigo-500 outline-none"
                                value={newVendor.name}
                                onChange={(e) => setNewVendor({...newVendor, name: e.target.value})}
                            />
                            <select 
                                className="w-full p-2 border rounded"
                                value={newVendor.type}
                                onChange={(e) => setNewVendor({...newVendor, type: e.target.value})}
                            >
                                <option value="externo">Proveedor Externo</option>
                                <option value="interno">Area Interna</option>
                            </select>
                            <input 
                                type="text" 
                                placeholder="Descripción breve de la tarea" 
                                className="w-full p-2 border rounded"
                                value={newVendor.description}
                                onChange={(e) => setNewVendor({...newVendor, description: e.target.value})}
                            />
                            <div>
                                <label className="block text-xs text-slate-500 mb-1">Tiempo Estándar de Ejecución ({product.timeUnit})</label>
                                <input 
                                type="number" 
                                min="1"
                                className="w-full p-2 border rounded"
                                value={newVendor.baseTime}
                                onChange={(e) => setNewVendor({...newVendor, baseTime: parseInt(e.target.value) || 0})}
                                />
                            </div>
                            <button 
                                onClick={addVendor}
                                className="w-full bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700 flex justify-center items-center gap-2"
                            >
                                <Plus className="h-4 w-4" /> Agregar a la Cadena
                            </button>
                            </div>
                        </div>

                        {/* Panel de Resultado (Sticky en desktop) */}
                        <div className={`sticky top-6 rounded-xl p-5 shadow-lg border-2 ${analytics.isBreached ? 'bg-red-50 border-red-400' : 'bg-green-50 border-green-400'}`}>
                            <h3 className="text-lg font-bold flex items-center gap-2 mb-2">
                            {analytics.isBreached ? <AlertTriangle className="text-red-600"/> : <CheckCircle className="text-green-600"/>}
                            Estado de la Cadena
                            </h3>
                            <div className="flex justify-between items-end mb-2">
                            <span className="text-sm text-slate-600">Tiempo Total Acumulado:</span>
                            <span className={`text-3xl font-bold ${analytics.isBreached ? 'text-red-700' : 'text-green-700'}`}>
                                {analytics.currentTotalTime} <span className="text-sm font-normal text-slate-500">{product.timeUnit}</span>
                            </span>
                            </div>
                            <div className="w-full bg-gray-200 rounded-full h-2.5 mb-2">
                            <div 
                                className={`h-2.5 rounded-full ${analytics.isBreached ? 'bg-red-600' : 'bg-green-600'}`} 
                                style={{width: `${Math.min((analytics.currentTotalTime / product.maxTime) * 100, 100)}%`}}
                            ></div>
                            </div>
                            <div className="text-xs flex justify-between text-slate-500 font-semibold">
                            <span>0</span>
                            <span>Límite: {product.maxTime} {product.timeUnit}</span>
                            </div>
                            {analytics.isBreached && (
                            <div className="mt-4 p-2 bg-red-100 text-red-800 text-sm rounded border border-red-200">
                                <strong>¡ALERTA CRÍTICA!</strong><br/>
                                La cadena ha excedido el tiempo máximo tolerable en <strong>{Math.abs(analytics.margin)}</strong> {product.timeUnit}. La resiliencia del servicio está comprometida.
                            </div>
                            )}
                            {!analytics.isBreached && (
                            <div className="mt-4 p-2 bg-green-100 text-green-800 text-sm rounded border border-green-200">
                                <strong>OPERACIÓN ESTABLE</strong><br/>
                                Margen de seguridad: <strong>{analytics.margin}</strong> {product.timeUnit} antes de impacto crítico.
                            </div>
                            )}
                        </div>

                        </div>

                        {/* Columna Derecha: Visualización de la Cadena */}
                        <div className="lg:col-span-2">
                        <h2 className="text-xl font-bold text-slate-700 mb-4 flex items-center gap-2">
                            <Clock className="h-6 w-6 text-slate-500" />
                            Flujo de Valor y Simulación
                        </h2>
                        
                        <div className="relative border-l-4 border-slate-200 ml-4 space-y-8 pl-8 py-4">
                            {vendors.map((vendor, index) => (
                            <div key={vendor.id} className="relative group">
                                {/* Conector Visual */}
                                <div className="absolute -left-[43px] top-6 w-6 h-6 rounded-full border-4 border-white shadow-sm z-10 bg-slate-300 group-hover:bg-blue-500 transition-colors"></div>
                                
                                {/* Tarjeta del Proveedor */}
                                <div className={`bg-white rounded-lg shadow-md border p-4 transition-all hover:shadow-lg ${vendor.type === 'interno' ? 'border-l-4 border-l-blue-400' : 'border-l-4 border-l-orange-400'}`}>
                                
                                <div className="flex justify-between items-start">
                                    <div>
                                    <div className="flex items-center gap-2">
                                        <span className={`text-[10px] font-bold uppercase px-2 py-0.5 rounded ${vendor.type === 'interno' ? 'bg-blue-100 text-blue-700' : 'bg-orange-100 text-orange-700'}`}>
                                        {vendor.type}
                                        </span>
                                        <h3 className="font-bold text-lg text-slate-800">{vendor.name}</h3>
                                    </div>
                                    <p className="text-sm text-slate-500 mt-1">{vendor.description}</p>
                                    </div>
                                    <button onClick={() => removeVendor(vendor.id)} className="text-slate-300 hover:text-red-500 p-1">
                                    <Trash2 className="h-4 w-4" />
                                    </button>
                                </div>

                                <div className="mt-4 flex flex-col sm:flex-row gap-4 bg-slate-50 p-3 rounded-lg border border-slate-100">
                                    <div className="flex-1">
                                    <span className="text-xs font-semibold text-slate-500 uppercase block">Tiempo Estándar</span>
                                    <span className="text-xl font-bold text-slate-700">{vendor.baseTime} {product.timeUnit}</span>
                                    </div>
                                    
                                    {/* SECCION DE SIMULACION */}
                                    <div className="flex-1 border-l pl-4 border-slate-200">
                                    <div className="flex items-center gap-2 mb-1">
                                        <PlayCircle className="h-3 w-3 text-purple-600" />
                                        <span className="text-xs font-bold text-purple-700 uppercase">Simular Interrupción</span>
                                    </div>
                                    <input 
                                        type="range" 
                                        min="0" 
                                        max="20" 
                                        value={vendor.simulatedDelay} 
                                        onChange={(e) => updateSimulation(vendor.id, e.target.value)}
                                        className="w-full h-2 bg-purple-200 rounded-lg appearance-none cursor-pointer accent-purple-600"
                                        />
                                        <div className="flex justify-between text-xs mt-1">
                                        <span className="text-slate-400">Normal</span>
                                        <span className={`font-bold ${vendor.simulatedDelay > 0 ? 'text-purple-600' : 'text-slate-400'}`}>
                                            + {vendor.simulatedDelay} Retraso
                                        </span>
                                        </div>
                                    </div>

                                    <div className="flex-1 text-right border-l pl-4 border-slate-200 flex flex-col justify-center">
                                    <span className="text-xs text-slate-500">Impacto Total</span>
                                    <span className={`text-xl font-bold ${vendor.simulatedDelay > 0 ? 'text-red-600' : 'text-slate-700'}`}>
                                        {vendor.baseTime + vendor.simulatedDelay} {product.timeUnit}
                                    </span>
                                    </div>
                                </div>

                                </div>
                            </div>
                            ))}

                            {vendors.length === 0 && (
                            <div className="text-center p-10 bg-slate-100 rounded-lg border border-dashed border-slate-300 text-slate-500">
                                No hay participantes en la cadena aún. Agrega proveedores desde el panel izquierdo.
                            </div>
                            )}
                        </div>
                        </div>
                    </div>
                    )}

                    {/* PESTAÑA 2: GESTION DE SLA */}
                    {activeTab === 'sla' && (
                    <div className="max-w-4xl mx-auto">
                        <div className="mb-6 bg-blue-50 border border-blue-200 p-4 rounded-lg flex items-start gap-3">
                        <FileText className="h-6 w-6 text-blue-600 flex-shrink-0 mt-1" />
                        <div>
                            <h3 className="font-bold text-blue-800">Taller de Acuerdos de Nivel de Servicio (SLA)</h3>
                            <p className="text-sm text-blue-700">
                            Selecciona un proveedor de tu cadena mapeada y define las cláusulas críticas para garantizar la resiliencia operacional. 
                            Un buen SLA no solo define tiempos, sino contingencias.
                            </p>
                        </div>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div className="md:col-span-1">
                            <label className="block text-sm font-bold text-slate-700 mb-2">Seleccionar Proveedor</label>
                            <div className="space-y-2">
                                {vendors.map(v => (
                                <button
                                    key={v.id}
                                    onClick={() => setActiveTab(`sla-${v.id}`)}
                                    className="w-full text-left p-3 rounded border bg-white hover:bg-slate-50 hover:border-blue-400 focus:ring-2 focus:ring-blue-500 transition-all shadow-sm"
                                >
                                    <div className="flex items-center justify-between">
                                    <span className="font-bold text-slate-700">{v.name}</span>
                                    <span className={`text-[10px] uppercase px-1.5 rounded ${v.type==='interno'?'bg-blue-100 text-blue-600':'bg-orange-100 text-orange-600'}`}>{v.type}</span>
                                    </div>
                                    <p className="text-xs text-slate-400 mt-1 truncate">{v.description}</p>
                                </button>
                                ))}
                                {vendors.length === 0 && <p className="text-sm text-red-500">Primero agrega proveedores en la pestaña "Cadena de Suministro".</p>}
                            </div>
                            </div>

                            <div className="md:col-span-2 space-y-6">
                            {vendors.length > 0 ? (
                                (() => {
                                // Logica simple para mostrar el primero por defecto si no hay selección o si se hace click
                                const selectedId = activeTab.startsWith('sla-') ? parseInt(activeTab.split('-')[1]) : vendors[0].id;
                                const currentVendor = vendors.find(v => v.id === selectedId) || vendors[0];
                                const currentSla = slas[currentVendor.id] || {};

                                return (
                                    <div className="bg-white p-6 rounded-xl shadow border border-slate-200">
                                    <h2 className="text-xl font-bold mb-4 flex items-center gap-2 border-b pb-3">
                                        <ShieldAlert className="h-6 w-6 text-indigo-600" />
                                        Redacción de Cláusulas: {currentVendor.name}
                                    </h2>
                                    
                                    <div className="space-y-5">
                                        {/* Cláusula 1 */}
                                        <div>
                                        <label className="flex items-center gap-2 text-sm font-bold text-slate-700 mb-1">
                                            <span className="w-6 h-6 rounded-full bg-slate-200 flex items-center justify-center text-xs">1</span>
                                            Tiempos de Respuesta y Recuperación (RTO/RPO)
                                        </label>
                                        <p className="text-xs text-slate-500 mb-2 ml-8">Define el tiempo máximo de interrupción permitido antes de penalizaciones.</p>
                                        <textarea 
                                            className="w-full p-3 border rounded-lg bg-slate-50 focus:bg-white focus:ring-2 focus:ring-indigo-200 outline-none text-sm transition-all"
                                            rows="3"
                                            placeholder="Ej: El proveedor deberá restablecer el servicio crítico en menos de 4 horas..."
                                            value={currentSla.rto || ''}
                                            onChange={(e) => handleSlaChange(currentVendor.id, 'rto', e.target.value)}
                                        />
                                        </div>

                                        {/* Cláusula 2 */}
                                        <div>
                                        <label className="flex items-center gap-2 text-sm font-bold text-slate-700 mb-1">
                                            <span className="w-6 h-6 rounded-full bg-slate-200 flex items-center justify-center text-xs">2</span>
                                            Gestión de Seguridad de Información y Ciberseguridad
                                        </label>
                                        <p className="text-xs text-slate-500 mb-2 ml-8">Requisitos de encriptación, acceso y auditoría.</p>
                                        <textarea 
                                            className="w-full p-3 border rounded-lg bg-slate-50 focus:bg-white focus:ring-2 focus:ring-indigo-200 outline-none text-sm transition-all"
                                            rows="3"
                                            placeholder="Ej: Cumplimiento con ISO 27001, reporte mensual de vulnerabilidades..."
                                            value={currentSla.security || ''}
                                            onChange={(e) => handleSlaChange(currentVendor.id, 'security', e.target.value)}
                                        />
                                        </div>

                                        {/* Cláusula 3 */}
                                        <div>
                                        <label className="flex items-center gap-2 text-sm font-bold text-slate-700 mb-1">
                                            <span className="w-6 h-6 rounded-full bg-slate-200 flex items-center justify-center text-xs">3</span>
                                            Continuidad del Negocio (BCP) y Notificación
                                        </label>
                                        <p className="text-xs text-slate-500 mb-2 ml-8">Protocolos de comunicación ante desastres.</p>
                                        <textarea 
                                            className="w-full p-3 border rounded-lg bg-slate-50 focus:bg-white focus:ring-2 focus:ring-indigo-200 outline-none text-sm transition-all"
                                            rows="3"
                                            placeholder="Ej: Notificación inmediata (máx 30 mins) ante incidentes de alto impacto..."
                                            value={currentSla.bcp || ''}
                                            onChange={(e) => handleSlaChange(currentVendor.id, 'bcp', e.target.value)}
                                        />
                                        </div>

                                        {/* Cláusula 4 */}
                                        <div>
                                        <label className="flex items-center gap-2 text-sm font-bold text-slate-700 mb-1">
                                            <span className="w-6 h-6 rounded-full bg-slate-200 flex items-center justify-center text-xs">4</span>
                                            Propiedad Intelectual y Cumplimiento Legal
                                        </label>
                                        <textarea 
                                            className="w-full p-3 border rounded-lg bg-slate-50 focus:bg-white focus:ring-2 focus:ring-indigo-200 outline-none text-sm transition-all"
                                            rows="2"
                                            placeholder="Derechos sobre los datos procesados, cumplimiento de GDPR/Leyes locales..."
                                            value={currentSla.legal || ''}
                                            onChange={(e) => handleSlaChange(currentVendor.id, 'legal', e.target.value)}
                                        />
                                        </div>
                                    </div>
                                    </div>
                                );
                                })()
                            ) : (
                                <div className="h-64 flex items-center justify-center bg-white rounded-xl border border-dashed border-slate-300">
                                <span className="text-slate-400">Selecciona un proveedor para comenzar</span>
                                </div>
                            )}
                            </div>
                        </div>
                    </div>
                    )}

                </main>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>